# 생각해보기

[Key Point]

루프를 돌며 모든 막대 X에 대해 X를 높이로 하면서 만들 수 있는 가장 큰 직사각형을 찾아야 한다!

[stack의 의미 - 발자취 : 넓이를 구하기 위해 지나온 발자취를 스택에 저장한다]

루프를 돌며 해당 막대로 구할 수 있는 가장 큰 넓이를 구하기 위해 막대를 stack에 넣는다. 그리고 계산되면 제거한다. ( * 스택 활용을 
생각하였으면 스택의 자료 정보의 의미와 언제 pop을 하고 언제 push를 할지 결정한다.)
그런데, 현재 막대보다 다음 막대의 높이가 높으면 현재 막대를 이용한 가장 큰 넓이를 구할 수 없다. 따라서, 높이가 같거나 커지면 push하고 
아니면 pop한다.

-----------------------

루프를 돌며 바라보고 있는 값의 오른쪽은 아직 탐색할 수 없다. 따라서 왼쪽 기준으로 현재까지의 가장 큰 직사각형의 넓이를 구해보자.

X 막대에 대해 오른쪽으로 X 막대의 높이보다 작은 막대가 나오고, 왼쪽 역시 X 막대의 높이 보다 작은 막대가 나올 때 X 막대의 높이로
구할 수 있는 최대 직사각형이 나온다. 

그럼, 각 각 오른쪽과 왼쪽은 어떻게 구할까?

오른쪽은 루프를 돌며 현재 바라보고 있는 막대 인덱스의 -1의 값이다. 왼쪽은 스택의 top 높이의 +1이다.따라서, 우리는 아래 사항을 알 수 있다.
stack에는 내가 바라보고 있는 막대보다 넓이가 작은 값이 들어가 있어야 한다. 즉, 
스택의 top의 높이보다 바라보고 있는 막대의 높이가 높으면 그냥 push를 하고, 낮으면 pop을 하면서 넓이 계산하여 비교한다. 그리고 스택에 남아 있는 값들은 아직 해당 높이로 가질 수 있는 최대 넓이가 아직 계산되지 않은 것들이다. 계산이 된다면 pop이 될 것이다.

위의 설명과 같이 높이가 낮아질 때 pop하고 나서 주어진 인덱스와 높이 그대로를 push할 수 있다. 하지만 다르게도 할 수 있다. 어차피 스택에는 현재 막대보다. 낮은 인덱스의 막대가 저장되어 있다. 그곳까지가 현재 막대의 높이로 넓이를 계산할 수 있는 범위이다. 따라서 현재 높이보다 작을 때까지 pop하며 그 때마다. 인덱스 값(최소 위치 == 왼쪽 값)을 저장하여, 최종 pop이후 현재 막대를 push 할 때 (최소 위치, 높이)를 push하는 것이다. 

어째든, Key Point를 명심하며 고민하다보면 풀이법에 도달할 수 있다.
